<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>ELIXIR Ireland</title>
    <meta
      name="description"
      content="ELIXIR Ireland is the Irish node of the international organisation ELIXIR, which promotes the sharing of resources and expertise in computational biology."
    />
    <link
      rel="shortcut icon"
      href="https://elixir-europe.org/sites/all/themes/elixir/images/favicons/favicon.ico"
      type="image/vnd.microsoft.icon"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      /* Ensure buttons are always styled even if CSS loads slowly */
      .card-link {
        display: inline-block;
        padding: 10px 20px;
        margin-top: 10px;
        color: #f47d21 !important;
        background-color: transparent;
        border: 2px solid #f47d21;
        border-radius: 4px;
        text-decoration: none;
        font-weight: 600;
        font-size: 14px;
        transition: all 0.3s ease;
        cursor: pointer;
      }
      .card-link:hover {
        color: #fff !important;
        background-color: #f47d21;
        border-color: #f47d21;
        transform: translateY(-2px);
        text-decoration: none;
      }
    </style>
  </head>

  <body>
    <!-- HEADER -->
    <div id="header-placeholder"></div>

    <!-- HERO SECTION -->
    <section class="hero">
      <div class="container">
        <div class="hero-content">
          <h1>ELIXIR Ireland</h1>
          <p class="hero-subtitle">Building a sustainable infrastructure for biological data in Ireland</p>
          <p class="hero-description">ELIXIR Ireland is the Irish node of ELIXIR, the European infrastructure for life science data. We connect researchers, data resources, and computational tools to advance biological research.</p>
          <div class="hero-buttons">
            <a href="about.html" class="button button-primary">Learn More About Us</a>
            <a href="participate.html" class="button button-secondary">Get Involved</a>
          </div>
        </div>
      </div>
    </section>

    <!-- KEY AREAS -->
    <section class="key-areas">
      <div class="container">
        <h2>What We Do</h2>
        <div class="card-grid">
          <div class="card">
            <div class="card-icon">üî¨</div>
            <h3>Data Resources</h3>
            <p>Access to high-quality biological databases supporting research across Ireland and Europe.</p>
            <a href="what-we-do.html" class="card-link">Learn more ‚Üí</a>
          </div>
          <div class="card">
            <div class="card-icon">üéì</div>
            <h3>Training & Support</h3>
            <p>Comprehensive training programs and workshops in bioinformatics and data management.</p>
            <a href="events.html" class="card-link">View events ‚Üí</a>
          </div>
          <div class="card">
            <div class="card-icon">ü§ù</div>
            <h3>Collaboration</h3>
            <p>Connecting researchers, institutions, and industry to advance life science research.</p>
            <a href="about.html#collaborations " class="card-link">Get involved ‚Üí</a>
          </div>
          <div class="card">
            <div class="card-icon">üíª</div>
            <h3>Services & Tools</h3>
            <p>Providing computational tools and infrastructure for biological data analysis.</p>
            <a href="what-we-do.html" class="card-link">Explore services ‚Üí</a>
          </div>
        </div>
      </div>
    </section>

    <!-- News & Events Section -->
    <section class="news-events">
      <div class="container">
        <div class="news-events-grid">
          <!-- Latest News Card -->
          <div class="news-section">
            <h2>üì∞ Latest News</h2>
            <div class="news-item" id="latest-news-item">
              <!-- This will be filled dynamically by JavaScript -->
              <p class="news-date">Loading latest news...</p>
              <h3>Loading...</h3>
              <p>Please wait while we fetch the latest news.</p>
            </div>
            <a href="news.html" class="button button-primary">View All News</a>
          </div>

          <!-- Upcoming Events Card -->
          <div class="events-section">
            <h2>üìÖ Upcoming Events</h2>
            <div class="news-item" id="latest-event-item">
              <!-- This will be filled dynamically by JavaScript -->
              <p class="news-date">Loading latest events...</p>
              <h3>Loading...</h3>
              <p>Please wait while we fetch the upcoming events.</p>
            </div>
            <a href="events.html" class="button button-secondary">View All Events</a>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA SECTION -->
    <section class="cta-section">
      <div class="container">
        <h2>Join the ELIXIR Ireland Community</h2>
        <p>Whether you're a researcher, student, or industry professional, there are many ways to engage with ELIXIR Ireland.</p>
        <a href="participate.html" class="button button-primary-large">Participate</a>
      </div>
    </section>

    <!-- FOOTER -->
    <div id="footer-placeholder"></div>

    <!-- Load scripts in correct order - core first, then data, then page-specific -->
    <script src="js/ei.js"></script>
    <script src="js/news_items.js"></script>
    <script src="js/events_items.js"></script>
    <script src="js/navigation.js"></script>
    <script>
      // Home page dynamic content - simplified
      (function() {
        'use strict';
        
        function displayLatestNews() {
          if (typeof newsItems === 'undefined' || newsItems.length === 0) return;
          
          const sortedNews = [...newsItems].sort((a, b) => new Date(b.date) - new Date(a.date));
          const latestNews = sortedNews[0];
          const newsContainer = document.getElementById('latest-news-item');
          
          if (newsContainer) {
            const date = new Date(latestNews.date).toLocaleDateString('en-IE', { 
              year: 'numeric', month: 'long', day: 'numeric' 
            });
            
            newsContainer.innerHTML = `
              <p class="news-date">${date}</p>
              <h3>${latestNews.title}</h3>
              <p>${latestNews.summary}</p>
              <a href="${latestNews.link || 'news.html'}" class="text-link">Read more ‚Üí</a>
            `;
          }
        }
        
        function displayUpcomingEvent() {
          if (typeof eventsItems === 'undefined' || eventsItems.length === 0) return;
          
          const today = new Date();
          today.setHours(0, 0, 0, 0);
          
          const upcomingEvents = eventsItems
            .filter(event => new Date(event.date) >= today)
            .sort((a, b) => new Date(a.date) - new Date(b.date));
          
          const eventContainer = document.getElementById('latest-event-item');
          if (!eventContainer) return;
          
          if (upcomingEvents.length > 0) {
            const nextEvent = upcomingEvents[0];
            const date = new Date(nextEvent.date).toLocaleDateString('en-IE', { 
              year: 'numeric', month: 'long', day: 'numeric' 
            });
            
            eventContainer.innerHTML = `
              <p class="news-date">${date}</p>
              <h3>${nextEvent.title}</h3>
              <p>${nextEvent.summary || 'Join us for this upcoming event. Click below for more details.'}</p>
              <a href="${nextEvent.link || 'events.html'}" class="text-link">View details ‚Üí</a>
            `;
          } else {
            eventContainer.innerHTML = `
              <p class="news-date">Stay tuned!</p>
              <h3>No upcoming events</h3>
              <p>Check back soon for our next scheduled events.</p>
              <a href="events.html" class="text-link">View past events ‚Üí</a>
            `;
          }
        }
        
        // Export functions globally so navigation system can use them
        window.displayLatestNews = displayLatestNews;
        window.displayUpcomingEvent = displayUpcomingEvent;
        
        // Initialize on DOM ready
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', function() {
            displayLatestNews();
            displayUpcomingEvent();
          });
        } else {
          displayLatestNews();
          displayUpcomingEvent();
        }
      })();
    </script>
  </body>
</html>
